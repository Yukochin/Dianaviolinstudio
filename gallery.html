<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Diana Violin Studio — Gallery</title>
<link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@700&family=Playfair+Display:wght@500;700&family=Lora:wght@400;500&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
<style>
  :root{
    --bg:#0a0a0a; --text:#f0efe9; --gold:#d6b24d; --muted:#bdb7a7; --white:#ffffff;
  }
  *{ box-sizing:border-box }
  body{
    font-family:'Lora',serif; color:var(--text); background:var(--bg);
    margin:0; padding:0; letter-spacing:.01em;
  }
  header{
    position:sticky; top:0; z-index:20; display:flex; align-items:center; justify-content:space-between; gap:24px;
    padding:12px 56px; background:rgba(10,10,10,.85); backdrop-filter:blur(10px);
    border-bottom:1px solid rgba(214,178,77,.35);
  }
  .logo img{ height:80px; width:auto; }
  nav a{
    font-family:'Playfair Display',serif; color:var(--text); text-decoration:none; margin:0 10px; font-weight:700;
    letter-spacing:.02em; transition:color .3s ease;
  }
  nav a:hover{ color:var(--gold) }
  nav a.active{ color:var(--gold) }

  /* HERO with violin wallpaper */
  .hero{
    position:relative; min-height:60vh; display:grid; place-items:center; padding:56px 20px 40px;
    background:url('gallery-hero.jpeg') center/cover no-repeat; overflow:hidden;
  }
   .hero::before{ content:''; position:absolute; inset:0; background:rgba(0,0,0,0); }
  @keyframes fadeInTitle { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  .card{
    position:relative;
    max-width:900px;
    padding:36px 42px;
    border-radius:22px;
    background:rgba(17,17,17,.55);
    border:none;
    box-shadow:0 0 18px rgba(214,178,77,.12), 0 20px 36px rgba(0,0,0,.45);
    text-align:center;
    z-index:2;
    animation: fadeInTitle 1.4s ease-out both;
  }
  .card h1{
    font-family:'Tangerine',cursive; font-size:64px; margin:0 0 10px; color:var(--gold);
    font-weight:700; text-shadow:0 0 8px rgba(214,178,77,.35);
  }
  .card p.lead{ font-size:16.5px; line-height:1.8; margin:0; color:var(--muted) }

  main{ padding:28px 20px 70px; }
  .wrap{ max-width:1200px; margin:0 auto; }

  /* Coverflow Gallery */
  .flow{
    position:relative; margin:18px auto 8px; height:420px; max-width:1100px;
  }
  .flow-track{
    position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
    display:flex; align-items:center; gap:28px; pointer-events:none;
  }
  .panel{
    position:relative; width:260px; height:170px; border-radius:12px; overflow:hidden; pointer-events:auto;
    box-shadow:0 16px 32px rgba(0,0,0,.45), 0 0 0 1px rgba(214,178,77,.15);
    transition:transform .5s ease, filter .5s ease, box-shadow .5s ease, opacity .5s ease;
    cursor:pointer; background:#000;
  }
  .panel img{ width:100%; height:100%; object-fit:cover; display:block; }
  .panel.large{ width:520px; height:340px; z-index:5; }
  .panel.small{ filter:grayscale(.25) brightness(.9); opacity:.9; }
  .panel.tiny{ transform:scale(.85); opacity:.75; filter:grayscale(.45) brightness(.85); }
  .reflection{
    position:absolute; left:0; right:0; top:100%; height:80px;
    transform:scaleY(-1); overflow:hidden;
  }
  .reflection img{ width:100%; height:100%; object-fit:cover; opacity:.4; filter:blur(0.2px); }
  .reflection::after{
    content:""; position:absolute; inset:0;
    background:linear-gradient(to bottom, rgba(255,255,255,.3), rgba(255,255,255,0));
  }

  .controls{
    display:flex; align-items:center; justify-content:center; gap:14px; margin-top:22px;
  }
  .btn{
    border:none; background:rgba(214,178,77,.25); color:#fff; width:42px; height:42px; border-radius:50%;
    display:grid; place-items:center; font-size:18px; cursor:pointer;
    transition:background .2s ease, transform .2s ease;
  }
  .btn:hover{ background:rgba(214,178,77,.45); transform:translateY(-1px); }
  .dots{ display:flex; gap:8px; justify-content:center; margin-top:10px; }
  .dot{ width:8px; height:8px; border-radius:50%; background:rgba(214,178,77,.35); }
  .dot.active{ background:rgba(214,178,77,.95); }

  footer{
    text-align:center; border-top:1px solid rgba(214,178,77,.28); color:var(--text);
    font-size:14px; padding:40px 20px 20px;
  }
  .social-icons{ display:flex; justify-content:center; gap:20px; margin-bottom:16px; }
  .social-icons a{ color:var(--gold); font-size:22px; transition:color .3s ease, transform .3s ease, text-shadow .3s ease; }
  .social-icons a:hover{ color:#f8e4a2; transform:translateY(-2px); text-shadow:0 0 12px rgba(214,178,77,.85); }
  footer p{ color:var(--text); font-family:'Lora',serif; font-size:14px; margin:0; letter-spacing:0.02em; }

  @media (max-width: 720px){
    .flow{ height:360px }
    .panel{ width:200px; height:130px }
    .panel.large{ width:360px; height:250px }
    .reflection{ height:70px }
  }
</style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="logo.jpg" alt="Diana Violin Studio Logo">
    </div>
    <nav>
      <a href="index.html">About</a>
      <a href="our-principle.html">Our Principle</a>
      <a href="studio-class.html">Studio Class</a>
      <a href="studio-concert.html">Studio Concert</a>
      <a href="gallery.html">Gallery</a>
      <a href="testimonials.html">Testimonials</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <section class="hero">
    <div class="card">
      <h1>Gallery</h1>
      <p class="lead">Swipe through highlights of performances, concerts, and cherished studio memories — each capturing a chapter of our studio’s musical story.</p>
    </div>
  </section>

  <main>
    <div class="wrap">
      <!-- Coverflow with reflection -->
      <div class="flow" id="flow">
        <div class="flow-track" id="track">
          <!-- Repeatable panels; replace src with your photos -->
          <div class="panel small">
            <img src="gallery1.jpeg" alt="Gallery image 1">
            <div class="reflection"><img src="gallery1.jpg" alt=""></div>
          </div>
          <div class="panel tiny">
            <img src="gallery2.jpeg" alt="Gallery image 2">
            <div class="reflection"><img src="gallery2.jpg" alt=""></div>
          </div>
          <div class="panel large">
            <img src="gallery3.jpeg" alt="Gallery image 3">
            <div class="reflection"><img src="gallery3.jpg" alt=""></div>
          </div>
          <div class="panel tiny">
            <img src="gallery4.jpeg" alt="Gallery image 4">
            <div class="reflection"><img src="gallery4.jpg" alt=""></div>
          </div>
          <div class="panel small">
            <img src="gallery5.jpeg" alt="Gallery image 5">
            <div class="reflection"><img src="gallery5.jpg" alt=""></div>
          </div>
        </div>
      </div>

      <div class="controls">
        <button class="btn" id="prev" aria-label="Previous">‹</button>
        <button class="btn" id="next" aria-label="Next">›</button>
      </div>
      <div class="dots" id="dots"></div>
    </div>
  </main>

  <footer>
    <div class="social-icons">
      <a aria-label="Instagram" href="https://www.instagram.com/diana_chenvln?igsh=bTJpODg2NHM1aHZv" target="_blank" rel="noopener"><i class="fa-brands fa-instagram"></i></a>
      <a aria-label="Rednote (Xiaohongshu)" href="https://xhslink.com/m/8mqaQS7njra" target="_blank" rel="noopener"><i class="fa-solid fa-music"></i></a>
      <a aria-label="YouTube" href="https://youtube.com/@dianaviolinstudio3816?si=g_GXT86BjGBR-gKg" target="_blank" rel="noopener"><i class="fa-brands fa-youtube"></i></a>
      <a aria-label="Email" href="mailto:dianachen.envie@gmail.com" target="_blank" rel="noopener"><i class="fa-solid fa-envelope"></i></a>
    </div>
    <p>© 2025 Diana Violin Studio | Violin Lessons | Gallery | Singapore</p>
  </footer>

<script>
(function(){
  const track = document.getElementById('track');
  const panels = Array.from(track.children);
  const prev = document.getElementById('prev');
  const next = document.getElementById('next');
  const dotsWrap = document.getElementById('dots');
  let index = 2; // start at the middle (large)
  let autoTimer = null;
  const AUTOSPEED = 4200, RESUME_AFTER = 5000;

  // Build dots
  panels.forEach((_,i)=>{
    const d=document.createElement('div');
    d.className='dot'+(i===index?' active':'');
    d.addEventListener('click', ()=>{ stopAuto(); goTo(i); setTimeout(startAuto, RESUME_AFTER); });
    dotsWrap.appendChild(d);
  });
  const dots = Array.from(dotsWrap.children);

  // layout function to mimic coverflow spacing
  const baseGap = 28;
  function layout(){
    panels.forEach((p,i)=>{
      const offset = i - index;
      const abs = Math.abs(offset);
      const x = offset * (baseGap + 200); // distance between panels
      p.style.transform = `translateX(${x}px) ${abs===0?'scale(1)':'scale(0.92)'}`;
      p.classList.remove('large','small','tiny');
      if(abs===0) p.classList.add('large');
      else if(abs===1) p.classList.add('small');
      else p.classList.add('tiny');
    });
  }

  function goTo(i){
    index = (i + panels.length) % panels.length;
    layout();
    dots.forEach((d,di)=>d.classList.toggle('active', di===index));
  }
  function nextPanel(){ goTo(index+1); }
  function prevPanel(){ goTo(index-1); }

  function startAuto(){ stopAuto(); autoTimer=setInterval(nextPanel, AUTOSPEED); }
  function stopAuto(){ if(autoTimer){ clearInterval(autoTimer); autoTimer=null; } }

  next.addEventListener('click', ()=>{ stopAuto(); nextPanel(); setTimeout(startAuto, RESUME_AFTER); });
  prev.addEventListener('click', ()=>{ stopAuto(); prevPanel(); setTimeout(startAuto, RESUME_AFTER); });

  // Touch swipe
  let startX=0, currentX=0, dragging=false;
  track.addEventListener('touchstart',(e)=>{ stopAuto(); dragging=true; startX=e.touches[0].clientX; currentX=startX; },{passive:true});
  track.addEventListener('touchmove',(e)=>{ if(!dragging) return; currentX=e.touches[0].clientX; },{passive:true});
  track.addEventListener('touchend',()=>{
    const delta = currentX - startX;
    if(Math.abs(delta) > 50){ delta<0?nextPanel():prevPanel(); }
    dragging=false; setTimeout(startAuto, RESUME_AFTER);
  });

  window.addEventListener('resize', layout);

  // Click to center a side image
  panels.forEach((p,i)=>p.addEventListener('click', ()=>{ stopAuto(); goTo(i); setTimeout(startAuto, RESUME_AFTER); }));

  goTo(index);
  startAuto();
})();
</script>
</body>
</html>
